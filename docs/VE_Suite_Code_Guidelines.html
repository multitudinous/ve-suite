<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>VE-Suite Code Guidelines</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link href="Ve-Suite.css" rel="stylesheet" type="text/css">
</head>

<p class="Title1">VE-Suite Code Guidelines</p>
<p class="bodytext">Basic quidelines are needed so that your code looks properly formatted in someone else's editor and is easy to follow.  We modelled these guidelines after those of two open-source projects that we use heavily, 
 <a href="http://www.vtk.org/contribute.php">VTK</a> and
 <a href="http://www.vrjuggler.org/twiki_public/bin/view/Juggler/VrJugglerCppCodingStandard">VRJuggler</a> .</p>

<p class="Title2">Class Structure</p>
<p class="bodytext">We only put one public class per file.</p>
<p class="bodytext">Every class name, macro, etc. starts with either<span class="computer"> "cfd" </span>or<span class="computer"> "CFD" </span>to avoid name clashes with other libraries. Classes should all start with<span class="computer"> "cfd" </span>and macros or constants can start with either.</p>
<p class="bodytext">Class names and file names are the same (e.g., cfdContours class is declared in cfdContours.h and implemented in cfdContours.cpp). This makes it easier to find the correct file for a specific class.</p>
<p class="bodytext">We try to keep all instance variables protected. The user and application developer should access instance variables through Set/Get methods.</p>
<p class="bodytext">We <span class="bodytextemph">always </span>initialize member variables in the constructor. Too many problems are eventually traced back to a pointer or variable left uninitialized.</p>
<p class="bodytext">Classes should implement a destructor, copy constructor, and equals operator.</p>

<p class="Title2">Names</p>
<p class="bodytext">Make names clear. Try to spell out a name and not use abbreviations. This leads to longer names but it makes using the software easier because you know that the<span class="computer"> SetRasterFontRange </span>method will always be called that, not<span class="computer"> SetRFRange </span>or<span class="computer"> SetRFontRange </span>or<span class="computer"> SetRFR. </span>When the name includes a natural abbreviation such as<span class="computer"> OpenGL, </span>we keep the abbreviation and capitalize the abbreviated letters.</p>
<p class="bodytext">We only use alphanumeric characters in names, [a-zA-z0-9]. We do not use underscores ('_'), so names like<span class="computer"> exterior_Surface </span>or<span class="computer"> _exteriorSurface </span>are not welcome.</p>
<p class="bodytext">We use capitalization to indicate words within a name. For example, a class could be called <span class="computer">cfdVectorTopologyFilter</span>.</p>
<p class="bodytext">Use <span class="computer"> "this"</span> inside of methods even though C++ doesn't require you to. This really seems to make the code more readable because it disambiguates between instance variables and local or global variables. It also disambiguates between member functions and other functions.</p>

<p class="Title2">Class Names</p>
<p class="bodytext">Classes names are nouns and usually start with<span class="computer"> “cfd”.</span></p>

<p class="Title2">Variable Names</p>
<p class="bodytext">Variable names are nouns and should begin with a lower case character.</p>

<p class="Title2">Function Names</p>
<p class="bodytext">Function names are verbs (e.g.,<span class="computer"> SetRasterFontRange</span>) and start with an upper case letter.</p>

<p class="Title2">Functions and Function Arguments</p>
<p class="bodytext">Use const on any member function that does not change any data. It enforces the purpose of a function and allows for better compiler optimizations.</p>

<p class="Title2">C++ style variable usage</p>
<p class="bodytext">Declare variables where they're first used. C++ lifted this restriction from C for a reason. It makes code more modular and easier to understand, modify, and debug.</p>

<p class="Title2">Braces</p>
<p class="bodytext">Place brace under and inline with keywords: 
<p class="computer">&nbsp;&nbsp;&nbsp; if ( condition ) &nbsp;&nbsp;&nbsp; while ( condition )</p>
<p class="computer">&nbsp;&nbsp;&nbsp; { &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p class="computer">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</p>
<p class="computer">&nbsp;&nbsp;&nbsp; } &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>

<p class="bodytext">Justification
<p class="bodytext">If you use an editor that supports brace matching (such as vi or vim), then it is easy to hop around long blocks.</p>
<p class="bodytext">If you want to comment out the conditional clause, it only takes one “//”
<p class="bodytext">Use braces for all if, while and do statements even if there is only a single statement within the braces. It ensures that when someone adds a line of code later there are already braces and they don't forget. It provides a more consistent look. It doesn't affect execution speed. It's easy to do. It will keep you out of trouble when using vrjDebug print statements.</p>

<p class="Title2">Header Files</p>
<p class="bodytext">Header files are for declarations only. It is difficult to read code and find code if source is in the declarations.</p>
<p class="bodytext">The header file of the class should include only the superclass header file. If you need any other includes, include comment at each one describing why it should be included.</p>
<p class="bodytext">Use forward class declarations to eliminate the other includes that you are tempted to insert.</p>
<p class="bodytext">Header files should use guards to prevent multiple inclusion. These guards should be defined in the style<span class="computer"> FILENAME_H, </span>which is the filename written in all upper case with punctuation such as dots ('.') replaced by underscores ('_')</p>
<p class="computer">&nbsp;&nbsp;&nbsp; #ifndef CFDHEADER_H</p>
<p class="computer">&nbsp;&nbsp;&nbsp; #define CFDHEADER_H</p>
<p class="computer">&nbsp;&nbsp;&nbsp; ...</p>
<p class="computer">&nbsp;&nbsp;&nbsp; #endif // CFDHEADER_H</p>

<p class="bodytext">Comment the end of every<span class="computer"> #endif, </span>as shown above. Nested<span class="computer"> #ifdef's </span>can be difficult to follow.</p>
<p class="bodytext">A new line after the last endif if is required by some compilers.</p>

<p class="Title2">Text Formatting </p>
<p class="bodytext">Limit lines to 80 characters. That allows you to open and see multiple files on a single display and you can better compare two files in xdiff or tkdiff. Set your editor to default to an 80-character wide screen.</p>
<p class="bodytext">Three (3) space indentation – Set your editor to insert three spaces every time you hit the tab key. True tabs (“\t”) are pretty much just for Makefiles.</p>
<p class="bodytext">Insert whitespace for readability. This means that one blank line should occur between function definitions or between different blocks of code.</p>

<p class="Title2">Namespaces</p>
<p class="bodytext">Don't place the<span class="computer"> "using namespace" </span>directive at global scope in a header file. This can cause lots of invisible conflicts that are hard to track. Keep<span class="computer"> “using” </span>statements to implementation files (if at all).</p>
<p class="bodytext">For standard namespace keywords (cout, cin, cerr, endl, vector, string), You must do<span class="computer"> “std::cout”, </span>etc.</p>

<p class="Title2">Comments</p>
<p class="bodytext">Comments must tell “why”, not “what is happening”. At every point where you had a choice of what to do, place a comment describing which choice you made and why.</p>

<p class="Title2">Parens () with Key Words and Functions Policy</p>
<p class="bodytext">Do not put parens next to keywords. Put a space between keywords and parens. </p>
<p class="bodytext">Do not use parens in return statements when it's not necessary.</p>
<p class="bodytext">Do put parens next to function names.</p>
<p class="bodytext">Justification: Keywords are not functions. By putting parens next to keywords keywords and function names are made to look alike.</p>
<p class="bodytext">Example:</p>
<p class="computer">&nbsp;&nbsp;&nbsp; if ( condition ) &nbsp;&nbsp;&nbsp; while ( condition )</p>
<p class="computer">&nbsp;&nbsp;&nbsp; { &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {</p>
<p class="computer">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ... &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</p>
<p class="computer">&nbsp;&nbsp;&nbsp; } &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p>

<p class="computer">&nbsp;&nbsp;&nbsp; strcpy( s, s1 ); &nbsp;&nbsp;&nbsp;  return 1;</p>

<p class="Title2">Array Indexing</p>
<p class="bodytext">Single-character variable names can easily be mistaken for numbers (“i”s can sometimes look a lot like ones). Make the array index stand out with whitespace:</p>
<p class="computer">&nbsp;&nbsp;&nbsp; array[ i ] = 0.0;</p>
<p class="computer">&nbsp;&nbsp;&nbsp; array[ 1 ] = 0.0;</p>
<p class="computer">&nbsp;&nbsp;&nbsp; array[ 2 ] = 0.0;</p>

<p class="Title2">Submit clean code</p>
<p class="bodytext">Make sure your code compiles without any warnings with -Wall and -O2.</p>

</body>

</html>

