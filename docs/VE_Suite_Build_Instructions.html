<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Building VE-Suite for Windows</title>
<meta http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<link rel=Stylesheet type="text/css" media=all href=Ve-Suite.css>
<body bgcolor="#FFFFFF" link=blue vlink=blue class="Normal" lang=EN-US> 

  <p class="Title1">Building VE-Suite for Windows</p> 
  <p class=bodytext>This is our initial port of VE_Suite to windows. Currently it must be built in Visual Studio 7.1(2003)</p> 
  <p class="Title2">Dependencies</p> 

    <p class=bodytext><a href="http://tortoisesvn.tigris.org/">TortoiseSVN</a> to check out and update VE_Suite from ISU's code repository</p> 
    <p class=bodytext><a href="http://msdn.microsoft.com/visualc/productinfo/">Visual Studio 7.1(2003)</a> to compile the C++ code.</p> 
    <p class=bodytext><a href="http://sgi.com/software/performer">OpenGL Performer (3.1.1)</a> to manage the scenegraph.</p> 
    <p class=bodytext><a href="http://vtk.org/get-software.php#interim">VTK (4.4)</a> to render the visualization objects.</p> 
    <p class=bodytext><a href="http://www.cmake.org/HTML/Download.html">CMake (2.0.3)</a> to build vtk.</p> 
    <p class=bodytext><a href="http://prdownloads.sourceforge.net/vrjuggler/vrjuggler-2.0-alpha4.win32-vc71.zip?download">VRJuggler (2.0alpha4.win32-vc71)</a> for management of the virtual environment.</p> 
    <p class=bodytext><a href="http://prdownloads.sourceforge.net/vrjuggler/vrjuggler-2.0-alpha4.win32-vc71-deps.zip?download">VRJuggler dependencies zip file</a></p> 
    <p class=bodytext><a href="http://omniorb.sourceforge.net/">omniORB (4.0.3)</a> for communication between the gui and the app.</p> 
    <p class=bodytext><a href="http://java.sun.com/j2se/1.4.2/download.html">Java 2 SDK</a> to compile and run the java-based gui.</p> 

  <h2 class="Title2">Notes on installation of dependencies:</h2> 
    <p><span class="bodytext">If you get the VE_Suite source code as a compressed tarball, some unzip utilities may not maintain the correct directory structure.  This can be fixed by unzipping the files on a Unix based system and then moving the files to the windows machine.</p>
 
      <p class="bodytext">--While the default locations for installations will work, we recommend creating a directory in the root (C:\) directory to minimize the path lengths and the accompanying potential for typos when configuring environment settings.</p>
      <p class="bodytext">--For windows, VTK must be built using CMake to create the VTK project and .sln files.</p> 
      <p class="bodytext">--There was a bug in compiling VTK when using CMake 2.0.3B.  If errors occur in the compile, we recommend downloading CMake 2.0.2 from the <a href="http://www.cmake.org/files/v2.0/">archive</a> section of the kitware webpage.</p> 
      <p class="bodytext">--When configuring CMake to build VTK, we recommend making a separate directory (such as VTK4.4) in the same directory as the VTK source code.  Inside this directory, make another directory labeled bin and use this as the install path when configuring CMake to build VTK.</p> 
      <p class="bodytext">--When configuring CMake for building VTK, there are three flags that need to be changed from their default value (&#8220;off&#8221;) to &#8220;on&#8221;:</p> 

    <p class=bodytext>1. shared libs</p> 
    <p class=bodytext>2. hybrid libs</p> 
    <p class=bodytext>3. parallel libs</p> 

  <p class="bodytext">After building VTK, make sure that you build the &#8220;Install&#8221; project.  Some users have needed to copy the .dll files from VTK-4.4-LatestRelease\bin\CMake\Debug folder to the VTK-4.4-LatestRelease\bin\CMake folder (copy them up one directory).</span></p> 
  <p class="Title2">Environment Settings</p> 

   <p class=bodytext>To set up the build environment:</p> 
    <p class=bodytext>1. Perform a one-time edit of the environment variables that are defined in the setup batch file (./VE_Installer/vesuite.OMNIBUILD.setup.bat)</p> 
     <p class=bodytext>Remember:  If the paths of your environment variables contain spaces, you need to put the directory containing the spaces in quotation marks.</p> 
     <p class=bodytextemph>Example: <span class="bodytext">set VTK_HOME=C:\&#8221;Documents and Settings&#8221;\user\Desktop\vtk</p> 
    <p class=bodytext>2. Run the batch file:</p> 
     <p class=bodytext>./VE_Installer/vesuite.OMNIBUILD.setup.bat</p> 
     <p class=bodytext>This will set the defined environment variables and launch a session of Visual Studio with the VE_Suite project loaded. The project should be ready to build.</p> 

  <p class="Title2">VE_Suite Project File Options</p> 
     <p class=bodytext>Currently there are two configurations available: Debug_OMNI and Release_OMNI.</p> 
     <p class="Title2">Running VE_Xplorer</p> 
     <p class=bodytext>You need to have omniNames started to run VE_Xplorer. If omniNames is not running, type in a command window,</p> 
     <p class=bodytext>omniNames -start 2809</p> 
     <p class=bodytext>To run the solution from within Visual Studio, change the working directory in the Configuration Properties tab to point to the directory where your VE_Suite parameter file is located (for example, change the working directory to $(VE_SUITE_HOME)\VE_TestSuite)</p> 
     <p class=bodytext>You will also need to pass in your juggler config files as command arguments on the configuration properties tab. With the three projects still open, right-click on the VE_Xplorer project file, and select properties. For simulation mode, you add the following to your command arguments section:</p> 
     <p class=bodytext>$(VJ_BASE_DIR)\share\vrjuggler\data\configFiles\sim.base.jconf</p> 
     <p class=bodytext>$(VJ_BASE_DIR)\share\vrjuggler\data\configFiles\sim.wand.mixin.jconf</p> 

</body>
</html>