<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Building VE-Suite</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link href="Ve-Suite.css" rel="stylesheet" type="text/css">
</head>

<body class="Title1">
<p>Building VE-Suite for Windows</p>

<p class="bodytext">This is our initial port of VE_Suite to windows.  Currently it must be built in Visual Studio 7.1(2003)</p>

<dl>
   <p>Dependencies</p>
      <dd>
        <p class="bodytext"><a href="http://tortoisesvn.tigris.org/">TortoiseSVN</a> to check out and update VE_Suite from ISU's code repository</p>
        <p class="bodytext">If you instead get the VE_Suite source code as a compressed tarball, note that some have found that a free unzip utility did not maintain the correct directory structure. Workaround: Unzip the files on Irix/linux and move the files to the Windows machine.</p>
      <p class="bodytext"><a href="http://msdn.microsoft.com/visualc/productinfo/">Visual Studio 7.1(2003)</a> to compile the C++ code.</p>
      <p class="bodytext"><a href="http://sgi.com/software/performer">OpenGL Performer (3.1.1)</a> to manage the scenegraph.</p>
      <p class="bodytext"><a href="http://vtk.org/get-software.php#interim">VTK (4.4)</a> to render the visualization objects.</p>
      <p class="bodytext"><a href="http://www.cmake.org/HTML/Download.html">CMake (2.0.3)</a> to build vtk.</p>
      <p class="bodytext">VTK installation Notes: For windows, we currently do not 'install' VTK.  The project files are set up to find the correct vtk include files and libs (i.e., they are NOT in an include or lib dir). Basically one needs to set the correct flags in CMake, use the correct compiler option, and use CMake to generate the VTK project and sln file.</p>
      <p class="bodytext"><span class="bodytextemph">Critical CMake flags</span></p>

      <UL>
      <LI><p class="bodytext">yes: shared libs</p>
      <LI><p class="bodytext">yes: hybrid libs</p>
      <LI><p class="bodytext">yes: parallel libs</p>
      <LI><p class="bodytext">no: MPI</p>
      </UL>

   <p class="bodytext"><a href="http://prdownloads.sourceforge.net/vrjuggler/vrjuggler-2.0-alpha4.win32-vc71.zip?download">VRJuggler (2.0alpha4.win32-vc71)</a> for management of the virtual environment.</p>
   <p class="bodytext"><a href="http://prdownloads.sourceforge.net/vrjuggler/vrjuggler-2.0-alpha4.win32-vc71-deps.zip?download">VRJuggler dependencies zip file</a></p>
   <p class="bodytext"><a href="http://omniorb.sourceforge.net/">omniORB (4.0.3)</a> for communication between the gui and the app.</p>
   <p class="bodytext"><a href="http://java.sun.com/j2se/1.4.2/download.html">Java 2 SDK</a> to compile and run the java-based gui.</p>

</dl>

<dl>
   <p>Environment Settings</p>
   <dd>
   <p class="bodytext">To set up the build environment:</p>
   <OL>
      <LI class="bodytext"><p class="bodytext">Perform a one-time edit of the environment variables that are defined in the setup batch file (./VE_Installer/vesuite.OMNIBUILD.setup.bat)</p>

   <p class="bodytext"><span class="bodytextemph">Note: </span>Paths of environment variables on windows <span class="bodytextemph">SHOULD NOT</span> contain spaces!!</p>
   <p class="bodytextemph">Example:</p>
   <UL>
   <LI><p class="bodytext"><span class="bodytextemph">BAD:</span> set VTK_HOME=C:\Documents and Settings\user\Desktop\vtk</p>
   <LI><p class="bodytext"><span class="bodytextemph">GOOD:</span> set VTK_HOME=C:\vtk</p>
   </UL>
   <LI class="bodytext"><p class="bodytext">Run the batch file:</p>
   <p class="bodytextemph">./VE_Installer/vesuite.OMNIBUILD.setup.bat</p>
   <p class="bodytext">This will set the defined environment variables and launch a session of Visual Studio with the VE_Suite project loaded. The project should be ready to build.</p>
   </OL>
</dl>

<dl>
<p>VE_Suite Project File Options</p>
<dd>
<p class="bodytext">Currently there are two configurations available: Debug_OMNI and Release_OMNI.</p>
</dl>

<dl>
<p>Running VE_Xplorer</p>
<dd>
<p class="bodytext">You need to have omniNames started to run VE_Xplorer. If omniNames is not running, type in a command window,</p>
<p class="bodytext"><span class="bodytextemph">omniNames -start 2809</span></p>
<p class="bodytext">To run the solution from within Visual Studio, change the working directory in the Configuration Properties tab to point to the directory where your VE_Suite parameter file is located (for example, change the working directory to $(VE_SUITE_HOME)\VE_TestSuite)</p>

<p class="bodytext">You will also need to pass in your juggler config files as command arguments on the configuration properties tab. With the three projects still open, right-click on the VE_Xplorer project file, and select properties. For simulation mode, you add the following to your command arguments section:</p>
<p class="bodytext"><span class="bodytextemph">$(VJ_BASE_DIR)\share\vrjuggler\data\configFiles\sim.base.jconf</span></p>
<p class="bodytext"><span class="bodytextemph">$(VJ_BASE_DIR)\share\vrjuggler\data\configFiles\sim.wand.mixin.jconf</span></p>
</dl>

</body>
</html>
