
///////////////////////////////////////////////////////////////////////////////
//
//  Event handler for adding an elevation layer.
//
///////////////////////////////////////////////////////////////////////////////

#include <ves/xplorer/minerva/AddElevationLayerHandler.h>
#include <ves/xplorer/minerva/MinervaManager.h>

#include <Minerva/Core/Layers/RasterLayer.h>

using namespace ves::xplorer::minerva;


///////////////////////////////////////////////////////////////////////////////
//
//  Constructor.
//
///////////////////////////////////////////////////////////////////////////////

AddElevationLayerHandler::AddElevationLayerHandler() : BaseClass()
{
}


///////////////////////////////////////////////////////////////////////////////
//
//  Destructor.
//
///////////////////////////////////////////////////////////////////////////////

AddElevationLayerHandler::~AddElevationLayerHandler()
{
}


///////////////////////////////////////////////////////////////////////////////
//
//  Add elevation layer.
//
///////////////////////////////////////////////////////////////////////////////

void AddElevationLayerHandler::Execute ( CommandPtr command, MinervaManager& manager )
{
  Minerva::Core::Layers::RasterLayer::RefPtr layer ( EventHandler::_createRasterLayerFromCommand ( command ) );
  if ( layer.valid() )
  {
    manager.AddElevationLayer ( layer.get() );
  }
}
