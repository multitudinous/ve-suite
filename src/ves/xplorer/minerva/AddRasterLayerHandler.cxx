
///////////////////////////////////////////////////////////////////////////////
//
//  Event handler for adding a raster layer.
//
///////////////////////////////////////////////////////////////////////////////

#include <ves/xplorer/minerva/AddRasterLayerHandler.h>
#include <ves/xplorer/minerva/MinervaManager.h>

#include <Minerva/Core/Layers/RasterLayer.h>

using namespace ves::xplorer::minerva;


///////////////////////////////////////////////////////////////////////////////
//
//  Constructor.
//
///////////////////////////////////////////////////////////////////////////////

AddRasterLayerHandler::AddRasterLayerHandler() : BaseClass()
{
}


///////////////////////////////////////////////////////////////////////////////
//
//  Destructor.
//
///////////////////////////////////////////////////////////////////////////////

AddRasterLayerHandler::~AddRasterLayerHandler()
{
}


///////////////////////////////////////////////////////////////////////////////
//
//  Add the earth.
//
///////////////////////////////////////////////////////////////////////////////

void AddRasterLayerHandler::Execute ( CommandPtr command, MinervaManager& manager )
{
  Minerva::Core::Layers::RasterLayer::RefPtr layer ( EventHandler::_createRasterLayerFromCommand ( command ) );
  if ( layer.valid() )
  {
    manager.AddRasterLayer ( layer.get() );
  }
}
