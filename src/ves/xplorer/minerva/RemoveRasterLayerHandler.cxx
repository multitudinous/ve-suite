
///////////////////////////////////////////////////////////////////////////////
//
//  Event handler for removing a raster layer.
//
///////////////////////////////////////////////////////////////////////////////

#include <ves/xplorer/minerva/RemoveRasterLayerHandler.h>
#include <ves/xplorer/minerva/MinervaManager.h>

#include <ves/open/xml/Command.h>
#include <ves/open/xml/DataValuePair.h>

#include <ves/util/commands/Minerva.h>

using namespace ves::xplorer::minerva;


///////////////////////////////////////////////////////////////////////////////
//
//  Constructor.
//
///////////////////////////////////////////////////////////////////////////////

RemoveRasterLayerHandler::RemoveRasterLayerHandler() : BaseClass()
{
}


///////////////////////////////////////////////////////////////////////////////
//
//  Destructor.
//
///////////////////////////////////////////////////////////////////////////////

RemoveRasterLayerHandler::~RemoveRasterLayerHandler()
{
}


///////////////////////////////////////////////////////////////////////////////
//
//  Remove raster layer.
//
///////////////////////////////////////////////////////////////////////////////

void RemoveRasterLayerHandler::Execute ( CommandPtr command, MinervaManager& manager )
{
  ves::open::xml::DataValuePairPtr guidData ( command->GetDataValuePair ( ves::util::names::UNIQUE_ID ) );

  std::string guid;
  guidData->GetData ( guid );

  manager.RemoveRasterLayer ( guid );

}
