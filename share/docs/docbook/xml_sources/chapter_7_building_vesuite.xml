<?xml version="1.0" encoding="UTF-8"?>
<chapter id="Building_VE_Suite">
  <title>Building VE-Suite</title>

  <para>Before attempting to build VE-Suite, be sure to build/install the
  dependencies (see Chapter 8, Dependencies) and set the environment (see
  Chapter 9, Setting the Environment).</para>

  <section id="unix_build_instructions">
    <title>UNIX/Linux Build Instructions</title>

    <para>VE-Suite, as well as its dependencies, is currently being tested on
    a broad range of unix/linux platforms including: IRIX 6.5, SuSE, and
    RedHat Enterprise.</para>

    <para>Set the environment variables (see Chapter 9, Setting the
    Environment) and source the setup file included with the VE-Suite project:
    $(VE_SUITE_HOME)/VE_Installer/setup.{.sh,tsh}. Once this file has been
    properly edited, type <code>gmake</code>. The unix build system is based
    on Doozer which is included with VR Juggler.</para>

    <para>Supported base configurations available:</para>

    <orderedlist>
      <listitem>
        <para>tao_pf_dbg - OpenGL Performer based application supporting
        released features.</para>
      </listitem>

      <listitem>
        <para>tao_osg_dbg - OpenSceneGraph based application supporting
        released features.</para>
      </listitem>

      <listitem>
        <para>tao_osg_vep_dbg - OpenSceneGraph based application supporting
        released and new features from current research.</para>
      </listitem>
    </orderedlist>

    <para>There are also cluster variants of each of the above
    configurations:</para>

    <orderedlist>
      <listitem>
        <para>tao_pf_cluster_dbg</para>
      </listitem>

      <listitem>
        <para>tao_osg_cluster_dbg</para>
      </listitem>

      <listitem>
        <para>tao_osg_vep_cluster_dbg</para>
      </listitem>
    </orderedlist>

    <para>To change any of the configurations described above, open the setup
    file and set SCENE_GRAPH, CLUSTER_APP, VE_PATENTED accordingly.</para>
  </section>

  <section id="windows_build_instructions">
    <title>Windows Build Instructions</title>

    <para>VE_Suite, as well as its dependencies, is currently built and tested
    using Visual Studio 7.1(2003).</para>

    <section id="building_vesuite_section">
      <title>Building VE-Suite</title>

      <para> Set the environment variables (see Chapter 9, Setting the
      Environment) and launch a session of Visual Studio with the VE-Suite
      project loaded, run the batch file:</para>

      <para><code> $(VE_SUITE_HOME)VE_Installerbuild.bat </code></para>

      <para>Supported base configurations available:</para>

      <orderedlist>
        <listitem>
          <para>tao_pf_dbg - OpenGL Performer based application supporting
          released features</para>
        </listitem>

        <listitem>
          <para>tao_osg_dbg - OpenSceneGraph based application supporting
          released features</para>
        </listitem>

        <listitem>
          <para>tao_osg_vep_dbg - OpenSceneGraph based application supporting
          released and new features from current research</para>
        </listitem>
      </orderedlist>

      <para>There are also cluster variants of each of the above
      configurations:</para>

      <orderedlist>
        <listitem>
          <para>tao_pf_cluster_dbg</para>
        </listitem>

        <listitem>
          <para>tao_osg_cluster_dbg</para>
        </listitem>

        <listitem>
          <para>tao_osg_vep_cluster_dbg</para>
        </listitem>
      </orderedlist>
    </section>

    <section id="debugging_vexplorer">
      <title>Debugging VE_Xplorer</title>

      <para>To run VE_Xplorer from within the Visual Studio debugger, change
      the working directory in the Configuration Properties tab to point to
      the directory where your VE-Suite parameter file is located (for
      example, change the working directory to
      $(VE_SUITE_HOME)VE_TestSuite).</para>

      <para>You will also need to pass in your VR juggler config files as
      command arguments on the configuration properties tab. With the two
      projects still open, right-click on the VE_Xplorer project file, and
      select properties. For simulation mode, you add the following to your
      command arguments section:</para>

      <para><code> $(VJ_BASE_DIR)sharevrjugglerdataconfigFiles sim.base.jconf
      </code></para>

      <para><code> $(VJ_BASE_DIR)sharevrjugglerdataconfigFiles
      sim.wand.mixin.jconf </code></para>

      <para>After you enter a parameter file name and the scene loads, double
      click on $(VE_SUITE_HOME)bin runWinClient.bat to bring up the
      gui.</para>
    </section>
  </section>
  
  <section id="standalone_cd">
    <title>Running VE-Suite from a CD</title>
    
    <para>You can build a working version of VE-Suite you can run from a CD by
    following these instructions:</para>
    
    <orderedlist>
      <listitem>
        <para>Create a folder to hold the CD's contents. We'll call this
	the "CD folder".</para>
      </listitem>

      <listitem>
        <para>Build VE-Suite and its dependencies. Make sure you
        build them without library or header files; these optional files will
	make VE-Suite too large to fit on a CD. Once they're built, copy them
	to the CD folder.</para>
      </listitem>
      
      <listitem>
        <para>Add the autorun.inf and VE_icon.ico files (found in the
	VE_Installer/installer/StandAloneCDreate directory) to the CD
	folder. (<emphasis role="bold">NOTE:</emphasis> Make sure the path to
	VE-Launcher listed in autorun.inf matches the path in your version of
	VE_Suite.)</para>
      </listitem>

      <listitem>
        <para>Add the models you want to include on the CD to the CD folder.
	We recommend putting them in VE_Suite.1.0.3/share/exampleDatasets
	with the sample datasets.</para>
      </listitem>
      
      <listitem>
        <para>Write the contents of the CD folder to the CD.</para>
      </listitem>
    </orderedlist>
    
    <para><emphasis role="bold">Reminders:</emphasis></para>
    
    <itemizedlist>
      <listitem>
        <para>Make sure the contents of the CD folder will fit on the CD before
	you write it.</para>
      </listitem>
      
      <listitem>
        <para>While running VE-Suite from a CD, make sure the
	dependencies directories and the working directory are located on
	the CD, otherwise the program won't run properly. Also, you can only
	use .ves (model) files located on the CD itself.</para>
      </listitem>
    </itemizedlist>
  </section>
</chapter>
