<?xml version="1.0" encoding="UTF-8"?>
<chapter version="5.0" xmlns="http://docbook.org/ns/docbook"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:svg="http://www.w3.org/2000/svg"
         xmlns:m="http://www.w3.org/1998/Math/MathML"
         xmlns:html="http://www.w3.org/1999/xhtml"
         xmlns:db="http://docbook.org/ns/docbook">
  <title>Troubleshooting Guide</title>

  <section>
    <title>Launching</title>

    <orderedlist>
      <listitem>
        <para>VE-Conductor comes up but I don't see graphics on any of the
        displays.</para>

        <orderedlist>
          <listitem>
            <para>Ensure that you correctly entered your password, when
            prompted, after launching on the master node.</para>
          </listitem>

          <listitem>
            <para>Ensure that Xplorer is selected on the Custom page of
            VE-Launcher.</para>
          </listitem>

          <listitem>
            <para>Ensure that "Cluster" is selected on the Custom page of
            VE-Launcher in the Xplorer Mode box.</para>
          </listitem>

          <listitem>
            <para>Ensure that all of the nodes launched. If you see any errors
            in the Conductor log stating "Unable to connect to VES Server" ,
            one or more of the nodes did not connect properly. Kill all
            <code>project_tao_osg_vep</code> processes on all nodes and
            restart <code>velauncher.py</code>.</para>
          </listitem>

          <listitem>
            <para>Ensure that the correct IP addresses are listed on the
            Cluster Nodes dialog of VE-Launcher. Also ensure that the correct
            name is listed for the master (cavehead) in the MASTER field of
            the Cluster Nodes dialog.</para>
          </listitem>
        </orderedlist>
      </listitem>

      <listitem>
        <para>I see the error message "Error: can't open display on
        device":</para>

        <orderedlist>
          <listitem>
            <para>Issue the <code>xhost +</code> command on all the nodes of
            the cluster. For example, from the command line type <code>ssh
            drone1</code>, then type <code>xhost +</code> (Note the space
            between <code>xhost</code> and <code>+</code>)</para>
          </listitem>

          <listitem>
            <para>Ensure that you have read permissions on the graphics card
            by typing <code>ls -ltr /dev/nvidia*</code>. If you do not have
            read permissions, ask the system admininstrator to enable read
            permissions.</para>
          </listitem>
        </orderedlist>
      </listitem>

      <listitem>
        <para>I see the error message "Could not connect to the Name
        Server..."</para>

        <orderedlist>
          <listitem>
            <para>Ensure that the correct IP address is listed on the CE name
            of the VE-Launcher dialog (currently 10.10.20.241)</para>
          </listitem>
        </orderedlist>
      </listitem>

      <listitem>
        <para><code>velauncher.py</code> is not available in my shell</para>

        <orderedlist>
          <listitem>
            <para>This probably means that the environment for your account
            has not been setup properly. Ask the system admininstrator to
            check the configuration of the user account environment.</para>
          </listitem>
        </orderedlist>
      </listitem>
    </orderedlist>
  </section>

  <section>
    <title>Tracking</title>

    <orderedlist>
      <listitem>
        <para>I don't see the head and the wand on the display of the master
        window</para>

        <orderedlist>
          <listitem>
            <para>Ensure that the Intersense tracker base station is turned
            on. In the cave, you should see blue light flashing on the above
            fixtures as you move the tracked glasses and/or the wand
            around.</para>
          </listitem>

          <listitem>
            <para>Ensure that <code>trackd</code> is NOT running. Check your
            processes to see if <code>trackd</code> is listed by typing
            <code>ps -ef |grep trackd</code>. If you see it running, try to
            kill the process by typing <code>killall trackd</code>. If
            <code>trackd</code> is still running, ask the system administrator
            to issue the <code>killall trackd</code> command.</para>
          </listitem>

          <listitem>
            <para>Ensure that you have read permissions on the tracking device
            by typing <code>ls -ltr /dev/ttyS2</code>. If you do not have
            permission, ask the system administrator to change the permissions
            on the device: <code>chmod 777 /dev/ttyS2</code></para>
          </listitem>
        </orderedlist>
      </listitem>

      <listitem>
        <para>I see the head and wand models in the display of the master, but
        the graphics are not responding to my movements.</para>

        <orderedlist>
          <listitem>
            <para>Ensure that the wand and head tracking power switches are
            turned on. You should see a green light.</para>
          </listitem>

          <listitem>
            <para>Ensure that the devices are in range, indicated by the
            orange light on each device.</para>
          </listitem>
        </orderedlist>
      </listitem>

      <listitem>
        <para>My wand navigation is too slow/fast.</para>

        <orderedlist>
          <listitem>
            <para>Change the translation and/or rotation step size on the
            Navigation pane on VE-Condutor. From the VE-Conductor menu, go to
            the VE-Xplorer menu and select Navigation Pane. Adjust the
            Translation and/or Rotation Step size slider(s) until the desired
            navigation speeds are achieved.</para>
          </listitem>
        </orderedlist>
      </listitem>

      <listitem>
        <para>Rotations are around an arbitrary axis.</para>

        <orderedlist>
          <listitem>
            <para>Change the rotations to be about the user's head. On the
            VE-Conductor main menu, go to the VE-Xplorer menu and select the
            Navigation pane. Ensure that the check box marked Rotate About
            User's Head is checked.</para>
          </listitem>
        </orderedlist>
      </listitem>
    </orderedlist>
  </section>

  <section>
    <title>Sync</title>

    <orderedlist>
      <listitem>
        <para>My visualizations are not synced across walls of the
        cave.</para>

        <orderedlist>
          <listitem>
            <para>Have the system administrator ensure that frame locking is
            enabled in the nvidia-settings panel.</para>
          </listitem>
        </orderedlist>
      </listitem>

      <listitem>
        <para>My logo animation is frozen until I mouse over the display on
        the master node.</para>

        <orderedlist>
          <listitem>
            <para>Frame locking is not set up properly. Ensure that the master
            node is NOT listed in the list of nodes to be frame locked.</para>
          </listitem>
        </orderedlist>
      </listitem>
    </orderedlist>
  </section>

  <section>
    <title>Flex Configurations</title>

    <orderedlist>
      <listitem>
        <para>Objects are skewed on the left and right wall.</para>

        <orderedlist>
          <listitem>
            <para>Make sure you are using the proper configuration files for
            your configuration. Currently there are three config files:
            <code>acenet_closed_tracked</code>,
            <code>acenet_45_tracked</code>, and
            <code>acenet_3_wide_tracked</code>. These are the configuration
            files for running your cave in a specific instance: with the cave
            closed (<code>acenet_closed_tracked</code>), open to 45 degrees
            (<code>acenet_45_tracked</code>), and fully open
            (<code>acenet_3_wide_tracked</code>). The files are located at
            <code>/opt/vesuite/</code> in directories
            <code>acenet_configs/</code> (closed),
            <code>acenet_configs_45</code> (open 45 degrees) and
            <code>acenet_configs_3_wide</code> (fully open).</para>
          </listitem>
        </orderedlist>
      </listitem>
    </orderedlist>
  </section>

  <section>
    <title>General VE-Suite Help</title>

    <orderedlist>
      <listitem>
        <para>Bugs: <link
        xlink:href="https://subversion.vrac.iastate.edu/Subversion/TSVEG/Bugzilla/">https://subversion.vrac.iastate.edu/Subversion/TSVEG/Bugzilla/</link></para>
      </listitem>

      <listitem>
        <para>For help with developing for VE-Suite, join the <link
        xlink:href="http://groups.google.com/group/ve-suite-devel?msg=subscribe">VE-Suite
        Developers email list</link> </para>
      </listitem>
    </orderedlist>
  </section>
</chapter>
