##sets up jconf files for stereo_desktop
import os, sys, string
pj = os.path.join
import SConsAddons.Util as sca_util

Import('ves_pkg buildDir')

fontBundle = ves_pkg.createFileBundle( pj('share','vesuite') )
fontFile = sca_util.getFilesRecursiveByExt( '.', ['.ttf'] )
fontBundle.addFiles( fontFile )

ptConfigFile = ves_pkg.createFileBundle( pj('share','vesuite') )
##fontFile = sca_util.getFilesRecursiveByExt( '.', ['.ttf'] )
ptConfigFile.addFiles( ['ptconfigfile.txt'] )

shareSubdirs = Split("""
    shaders
    vrj_configs
    examples
    tools
    fpc
    scripts
    osg-textures
""")

##Set the Sconscript files to build.
if 'docs' in COMMAND_LINE_TARGETS:
  shareSubdirs.append(pj('docs'))
  ves_pkg.getEnv().Alias('docs', pj('docs'))
#elif 'changelog' in COMMAND_LINE_TARGETS:
#  ves_dirs = [ chlogSubdirs ]
#  baseEnv.Alias('changelog', chlogSubdirs)
#elif 'doxygen' in  COMMAND_LINE_TARGETS:
#  ves_dirs = [ doxySubdirs ]
#  baseEnv.Alias('doxygen', doxySubdirs)

##Run SConscript files in all of those folders.
for d in shareSubdirs:
   SConscript( dirs = d )
