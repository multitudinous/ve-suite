# # # # # #  project setup  # # # # # #
CMAKE_MINIMUM_REQUIRED( VERSION 2.6 )
PROJECT( OSGBullet )

SET( CMAKE_MODULE_PATH "${PROJECT_SOURCE_DIR}/CMakeModules;${CMAKE_MODULE_PATH}" )

SET( LIBRARY_OUTPUT_PATH
    ${PROJECT_BINARY_DIR}/bin CACHE PATH
    "Single directory for all libraries." )
MAKE_DIRECTORY( ${LIBRARY_OUTPUT_PATH} )
MARK_AS_ADVANCED( LIBRARY_OUTPUT_PATH )

SET( EXECUTABLE_OUTPUT_PATH
    ${PROJECT_BINARY_DIR}/bin CACHE PATH
    "Single directory for all executables." )
MAKE_DIRECTORY( ${EXECUTABLE_OUTPUT_PATH} )
MARK_AS_ADVANCED( EXECUTABLE_OUTPUT_PATH )

INCLUDE( CMakeMacros )

FIND_PACKAGE( osg REQUIRED )
FIND_PACKAGE( wxWidgets REQUIRED base core gl )
FIND_PACKAGE( Bullet REQUIRED )
FIND_PACKAGE( COLLADA REQUIRED )

# add bullet & osg for entire project for include & lib paths
INCLUDE_DIRECTORIES( 
    ${PROJECT_SOURCE_DIR}/include
    ${COLLADA_INCLUDE_DIR}
    ${OSG_INCLUDE_DIRS}
    ${wxWidgets_INCLUDE_DIRS}
    ${BULLET_INCLUDE_DIR} ${BULLET_EXTRAS_INCLUDE_DIR}
)
LINK_DIRECTORIES( ${OSG_LIBRARIES_DIR} )

ADD_SUBDIRECTORY( src/osgBullet )

OPTION( BUILD_APPLICATIONS "Enable to build applications" ON )
IF( BUILD_APPLICATIONS )
    ADD_SUBDIRECTORY( applications/handpreprocess )
    ADD_SUBDIRECTORY( applications/osgbpp )
ENDIF( BUILD_APPLICATIONS )

OPTION( BUILD_EXAMPLES "Enable to build example code" ON )
IF( BUILD_EXAMPLES )
    ADD_SUBDIRECTORY( examples )
ENDIF( BUILD_EXAMPLES )

OPTION( BUILD_SPIKES "Enable to build one-off test code" OFF )
IF( BUILD_SPIKES )
    ADD_SUBDIRECTORY( spikes/wxhello )
    ADD_SUBDIRECTORY( spikes/wxpick )
ENDIF( BUILD_SPIKES )
